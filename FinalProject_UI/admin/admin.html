<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../resources/css/style.css">
    <script src="../resources/js/jquery-3.6.0.js"></script>
    <script src="../resources/js/ui.js"></script>
    <script src="../ckeditor5/build/ckeditor.js"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <title>에디터 작성</title>
</head>
<body>
    <div style="width: 800px; height: 800px;">
        <h2>에디터</h2>

        <br>

        <form method="post">
            <table class="store-editor">
                <tr>
                    <td>
                        제목 : 
                    </td>
                    <td>
                        <input type="text" name="title" id="" size="40" maxlength="40">
                    </td>
                </tr>
                <tr>
                    <td>
                        카테고리 : 
                    </td>
                    <td>
                        <select name="" id="" class="c1">
                            <option value="문의 분류" selected>문의 분류</option>
                            <option value="종류1">종류1</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td colspan="2">
                        <textarea name="content" id="editor">
                        </textarea> 
                    </td>
                </tr>                
                <tr>
                    <th colspan="2">
                        <input class="btn" type="submit" value="등록">
                    </th>
                </tr>
            </table>                                   
        </form>
    </div>

    <script>
        ClassicEditor
        .create( document.querySelector( '#editor' ), {
            ckfinder: {
                uploadUrl: '/ckfinder/core/connector/php/connector.php?command=QuickUpload&type=Files&responseType=json',
            },
            toolbar: {
                items: [
                'link',
                'heading',
                '|',
                'bold',
                'italic',
                '|',
                'outdent',
                'indent',
                '|',
                'undo',
                'redo',
                ],
            },
            language: 'ko',
            image: {
                toolbar: [
                'imageTextAlternative',
                'imageStyle:inline',
                'imageStyle:block',
                'imageStyle:side',
                ],
            }
        } )
        .catch( error => {
            console.error( error );
        } );

        $(document).ready(() => {
            var food = ['간편식', '디저트/간식', '건조 식품'];
            var life = ['세탁', '주방', '욕실'];
            var beauty = ['바디케어', '기초화장품', '메이크업', '헤어케어'];
            var pet = ['강아지', '고양이'];

            $('.c1').change(function(){
                var bel = $(this).val();

                if(bel == '식품'){
                    $('.op').remove();

                    $.each(food, function(i, item){
                        $('.c2').append('<option class="op">' +item+ '</option>');
                    });
                }
                if(bel == '생활'){
                    $('.op').remove();

                    $.each(life, function(i, item){
                        $('.c2').append('<option class="op">' +item+ '</option>');
                    });
                }
                if(bel == '뷰티'){
                    $('.op').remove();

                    $.each(beauty, function(i, item){
                        $('.c2').append('<option class="op">' +item+ '</option>');
                    });
                }
                if(bel == '반려동물'){
                    $('.op').remove();

                    $.each(pet, function(i, item){
                        $('.c2').append('<option class="op">' +item+ '</option>');
                    });
                }
                

            })
        })
    </script>
</body>
</html>